// App.jsx 
import { useState, useEffect } from "react";
import ThemeToggle from "./components/ThemeToggle";
import GameStartButton from "./components/GameStartButton";
import GamePanel from "./components/GamePanel";
import GameOverBox from "./components/GameOverBox";

function App() {
  const [count, setCount] = useState(0);
  const [timeLeft, setTimeLeft] = useState(10);
  const [isGameActive, setIsGameActive] = useState(false);

  const [theme, setTheme] = useState(
    localStorage.getItem("theme") || "light"
  );

  useEffect(() => {
    if (theme === "dark") {
      document.documentElement.classList.add("dark");
    } else {
      document.documentElement.classList.remove("dark");
    }
    localStorage.setItem("theme", theme);
  }, [theme]);

  function toggleTheme() {
    setTheme(prev => (prev === "light" ? "dark" : "light"));
  }

  function startGame() {
    setCount(0);
    setTimeLeft(10);
    setIsGameActive(true);
  }

  useEffect(() => {
    if (isGameActive && timeLeft > 0) {
      const timer = setTimeout(() => setTimeLeft(timeLeft - 1), 1000);
      return () => clearTimeout(timer);
    } else if (timeLeft === 0) {
      setIsGameActive(false);
    }
  }, [isGameActive, timeLeft]);

  function handleClick() {
    if (!isGameActive || timeLeft <= 0) return;
    setCount(count + 1);
  }

  return (
    <div
      className="flex flex-col items-center justify-center h-screen font-mono 
        text-black dark:text-white bg-white dark:bg-gray-900 gap-6 p-4"
    >
      <ThemeToggle theme={theme} toggleTheme={toggleTheme} />

      <h1 className="text-center text-2xl font-bold border-b-2 border-black dark:border-white pb-2 w-full max-w-xs">
        Clicker Game
      </h1>

      {!isGameActive ? (
        <GameStartButton startGame={startGame} />
      ) : (
        <GamePanel
          timeLeft={timeLeft}
          count={count}
          handleClick={handleClick}
        />
      )}

      {timeLeft === 0 && <GameOverBox count={count} />}
    </div>
  );
}

export default App;



// App.css :
// vide



// index.css 

@import "tailwindcss";

@custom-variant dark (&:where(.dark, .dark *));



// components/ThemeToggle.tsx
function ThemeToggle({ theme, toggleTheme }) {
  return (
    <button
      onClick={toggleTheme}
      className="absolute top-4 right-4 border-2 border-black dark:border-white px-4 py-2"
    >
      {theme === "light" ? "Dark Mode" : "Light Mode"}
    </button>
  );
}

export default ThemeToggle;



// components/GameOverBox.jsx
function GameOverBox({ count }) {
  return (
    <div className="border-2 border-black dark:border-white p-4 mt-6 max-w-xs text-center w-full">
      Game Over! Final score: {count}
    </div>
  );
}Game

export default GameOverBox;



// components/GamePanel.jsx
function GamePanel({ timeLeft, count, handleClick }) {
  return (
    <div className="flex flex-col items-center gap-4 border-2 border-black dark:border-white p-6 max-w-xs w-full">
      <div className="border border-black dark:border-white w-full text-center py-2">
        Time Left: {timeLeft} seconds
      </div>

      <div className="border border-black dark:border-white w-full text-center py-2">
        Clicks: {count}
      </div>

      <button
        className="border-2 border-black dark:border-white px-6 py-3 mt-4 w-full"
        onClick={handleClick}
        disabled={timeLeft === 0}
      >
        Click Here
      </button>
    </div>
  );
}

export default GamePanel;



// components/GameStartButton.jsx
function GameStartButton({ startGame }) {
  return (
    <button
      className="border-2 border-black dark:border-white px-6 py-3 mt-6"
      onClick={startGame}
    >
      Start Game!
    </button>
  );
}

export default GameStartButton;

